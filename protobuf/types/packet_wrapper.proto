syntax = "proto3";

message PacketWrapper {
  enum PacketType {
    PACKET_TYPE_UNKNOWN = 0;
    RSA_PUB_KEY = 1;
    AES_KEY = 2;
    MEDIA = 3;
    CONNECTION = 4;
    DIAGNOSTICS = 5;
    HEALTH = 6;
    MEETING = 7;
  }

  enum ConnectionPhase {
    CONNECTION_PHASE_UNSPECIFIED = 0;  // Old clients â†’ treat as active (backward compat)
    PROBING = 1;
    ACTIVE = 2;
  }
  
  PacketType packet_type = 1;
  string email = 2;
  bytes data = 3;
  string session_id = 4;
  ConnectionPhase connection_phase = 5;
}
